<!DOCTYPE html>
<meta charset="utf-8">
<html ng-app="timenessApp">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/style.css" />
        <link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">        
        <title>Ta dá</title>
        <style> body { padding-top: 100px; } </style>
        <style> 
           .nav, .pagination, .carousel, .panel-title a { cursor: pointer; }
        </style>
        <link rel="stylesheet" href="./examples/example-styles.css">
        <link rel="stylesheet" type="css" href="./bower_components/d3-tip/examples/example-styles.css">
            <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.6.0"></script>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.layout.js?2.6.0"></script>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.geom.js?2.6.0"></script>
    </head>


<body>

<script type="text/javascript" charset="utf-8">
      var w = 960, h = 500;

      var labelDistance = 0;

      var vis = d3.select("body").append("svg:svg").attr("width", w).attr("height", h);

      var nodes = [];
      var labelAnchors = [];
      var labelAnchorLinks = [];
      var links = [];

      for(var i = 0; i < 30; i++) {
        var node = {
          label : "node " + i
        };
        nodes.push(node);
        labelAnchors.push({
          node : node
        });
        labelAnchors.push({
          node : node
        });
      };

      for(var i = 0; i < nodes.length; i++) {
        for(var j = 0; j < i; j++) {
          if(Math.random() > .95)
            links.push({
              source : i,
              target : j,
              weight : Math.random()
            });
        }
        labelAnchorLinks.push({
          source : i * 2,
          target : i * 2 + 1,
          weight : 1
        });
      };

      var force = d3.layout.force().size([w, h]).nodes(nodes).links(links).gravity(1).linkDistance(50).charge(-3000).linkStrength(function(x) {
        return x.weight * 10
      });


      force.start();

      var force2 = d3.layout.force().nodes(labelAnchors).links(labelAnchorLinks).gravity(0).linkDistance(0).linkStrength(8).charge(-100).size([w, h]);
      force2.start();

      var link = vis.selectAll("line.link").data(links).enter().append("svg:line").attr("class", "link").style("stroke", "#CCC");

      var node = vis.selectAll("g.node").data(force.nodes()).enter().append("svg:g").attr("class", "node");
      node.append("svg:circle").attr("r", 5).style("fill", "#555").style("stroke", "#FFF").style("stroke-width", 3);
      node.call(force.drag);


      var anchorLink = vis.selectAll("line.anchorLink").data(labelAnchorLinks)//.enter().append("svg:line").attr("class", "anchorLink").style("stroke", "#999");

      var anchorNode = vis.selectAll("g.anchorNode").data(force2.nodes()).enter().append("svg:g").attr("class", "anchorNode");
      anchorNode.append("svg:circle").attr("r", 0).style("fill", "#FFF");
        anchorNode.append("svg:text").text(function(d, i) {
        return i % 2 == 0 ? "" : d.node.label
      }).style("fill", "#555").style("font-family", "Arial").style("font-size", 12);

      var updateLink = function() {
        this.attr("x1", function(d) {
          return d.source.x;
        }).attr("y1", function(d) {
          return d.source.y;
        }).attr("x2", function(d) {
          return d.target.x;
        }).attr("y2", function(d) {
          return d.target.y;
        });

      }

      var updateNode = function() {
        this.attr("transform", function(d) {
          return "translate(" + d.x + "," + d.y + ")";
        });

      }


      force.on("tick", function() {

        force2.start();

        node.call(updateNode);

        anchorNode.each(function(d, i) {
          if(i % 2 == 0) {
            d.x = d.node.x;
            d.y = d.node.y;
          } else {
            var b = this.childNodes[1].getBBox();

            var diffX = d.x - d.node.x;
            var diffY = d.y - d.node.y;

            var dist = Math.sqrt(diffX * diffX + diffY * diffY);

            var shiftX = b.width * (diffX - dist) / (dist * 2);
            shiftX = Math.max(-b.width, Math.min(0, shiftX));
            var shiftY = 5;
            this.childNodes[1].setAttribute("transform", "translate(" + shiftX + "," + shiftY + ")");
          }
        });


        anchorNode.call(updateNode);

        link.call(updateLink);
        anchorLink.call(updateLink);

      });

    </script>

<div style="border: 1px solid rgb(200,200,200); margin-left: 40px; margin-right: 40px;">
        <div class="container">
            <div class="row">
                <div class="page-header">
                     <h1>ta dá component</h1>
                </div>   
            </div>
        </div> 

        <div class="container">
            <div class="row">                           
                <label for="delimiter">Exibir limites de tempo</label>
                <input name="delimiter" type="checkbox" checked="true" onchange="updateDelimiter()">
            </div>
        </div>

        <div class="container">
            <div class="row">                           
                <button type="button" class="btn btn-primary" onclick="addLine()">Adicionar linha</button>
                <button type="button" class="btn btn-primary" onclick="removeLine()">Remover linha</button>
                <button type="button" class="btn btn-primary" onclick="zoomIn()">Aumentar zoom</button>
                <button type="button" class="btn btn-primary" onclick="zoomOut()">Diminuir zoom</button>
                <button type="button" class="btn btn-primary" onclick="graph(element)">Reset zoom</button>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-lg-12" id="chart_placeholder"> </div>
            </div> <!--row-->
        </div>

        <div class="container">
            <div class="row">
                <div id="legend"></div>
            </div>
        </div>


        <div class="container">
            <div class="row">
                <div id="zoomEnd"></div>
            </div>
        </div>
</div>

<!-- i................ -->
<!-- Form criar evento -->
<!-- ................. -->



<!--end datepicker-->
<div div ng-controller="DatepickerDemoCtrl" style="border: 1px solid rgb(200,200,200); margin-left: 40px; margin-right: 40px; margin-top:40px;" >
        
        <div class="container">
            <div class="row">
                <div class="page-header">
                     <h1>Hacking</h1>
                </div>   
            </div>
        </div> 

        <div class="container"> 
            <div class="row">
                <button type="button" id="addTimeLineEventButtonId" 
                    class="btn btn-primary" 
                    onclick="TimeLine.addTimeLineEvent()">Criar Evento</button>
                <button type="button" id="removeTimeLineEventButtonId" 
                    class="btn btn-primary" 
                    onclick="TimeLine.removeTimeLineEvent()">Remover Evento</button>
                <button type="button" id="editTimeLineEventButtonId" 
                    class="btn btn-primary" 
                    onclick="TimeLine.editTimeLineEvent()">Editar Evento</button>
            </div>
        </div>
        
        <div class="container">    
            <div class="row">
                <div class="col-md-12">
                    <label>Pop up</label>
                    <p class="input-group">
                      <input type="text" class="form-control" datepicker-popup="{{format}}" 
                      ng-model="dt" is-open="opened" min-date="minDate" max-date="'2015-06-22'" 
                      datepicker-options="dateOptions" date-disabled="disabled(date, mode)" 
                      ng-required="true" close-text="Close">
                      <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                      </span>
                    </p>
                </div>    
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <label>Formato:</label> 
                    <select class="form-control" ng-model="format" ng-options="f for f in formats">
                        <option></option>
                    </select>
                </div>
            </div>
        <br>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-md-12">             
                    <button type="button" class="btn btn-sm btn-info" ng-click="today()">Hoje</button>
                    <button type="button" class="btn btn-sm btn-default" ng-click="dt = '24-08-2009'">24-08-2009</button>
                    <button type="button" class="btn btn-sm btn-danger" ng-click="clear()">Limpar</button>
                    <button type="button" class="btn btn-sm btn-default" ng-click="toggleMin()" tooltip="Após a restrição 'hoje'">Data mínima</button>
                </div>
            </div>
        <br>
        </div>

       
        <div class="container">
            <div class="row">
                <div class="col-md-12"> 
                    <pre>A data selecionada é: <em>{{dt | date:'fullDate' }}</em></pre>
                </div>
            </div>
        </div>
        <hr />       


        <div class="container">
            <div class="row">
                <div class="col-md-12">   
                    <form class="form" name="form" ng-submit="TimeLine.mngrTimeLineEventForm(form)">
                        <label class="form-control">A</label>
                        <input class="form-control" type="text"> 
                        <br>
                        <label class="form-control">B</label>
                        <input class="form-control" type="text">
                        <br>
                        <label class="form-control">C</label>
                        <input class="form-control"type="text">
                        <br>
                    </form>
                </div>
            </div>
        </div>
</div>

<!-- e................ -->
<!-- ................. -->


    
<div style="border: 1px solid rgb(200,200,200); margin-left: 40px; margin-right: 40px; margin-top: 40px; margin=bottom: 40px;">
<!-- i 43............. -->
<!-- ................. -->
        <div class="container">
            <div class="container">
                <div class="row">
                    <div class="page-header">
                         <h1>Pop up's</h1>
                    </div>   
                </div>
            </div>
        </div>


        <div class="container"> 
            <div class="row">
                <div class="col-md-12">
                    <div ng-controller="PopoverDemoCtrl">
                        <h4>Pop up Dinâmico</h4>
                        <div class="form-group">
                          <label>Texto do Popup:</label>
                          <input type="text" ng-model="dynamicPopover" class="form-control">
                        </div>
                        <div class="form-group">
                          <label>Título do pop up:</label>
                          <input type="text" ng-model="dynamicPopoverTitle" class="form-control">
                        </div>
                        <button popover="{{dynamicPopover}}" popover-title="{{dynamicPopoverTitle}}" class="btn btn-default">Popover Dinâmico</button>
                        
                        <hr />
                        <h4>Pop up Posicional</h4>
                        <button popover-placement="top" popover="Acima!" class="btn btn-default">Acima</button>
                        <button popover-placement="left" popover="À Esquerda!" class="btn btn-default">Esquerda</button>
                        <button popover-placement="right" popover="À direita!" class="btn btn-default">Direita</button>
                        <button popover-placement="bottom" popover="Olhar para Baixo!" class="btn btn-default">Abaixo</button>
                        
                        <hr />
                        <h4>Pop up com 'Gatilho'</h4>
                        <p>
                          <button popover="Aparecer com chegada do mouse!" popover-trigger="mouseenter" class="btn btn-default pop">Mouse In</button>
                        </p>
                        <input type="text" value="Click em mim!" popover="Aparecer quando receber foco! Click Fora Para Apagar..."  popover-trigger="focus" class="form-control">

                        <hr />
                        <h4>Outro</h4>
                        <button Popover-animation="true" popover="Aparecer e desaparecer com efeito de esmaecimento!" class="btn btn-default">Esmaecer</button>
                        <button popover="Aqui o título!" popover-title="O Título." class="btn btn-default">Título</button>
                        <br>
                        <br>
                        <br>
                    </div>
                </div>
            </div>
        </div>
</div>


<!-- e43............... -->
<!-- .................. -->

        <script src="bower_components/jquery/dist/jquery.js"></script>
        <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
        <script src="bower_components/angular/angular.js"></script>
        <script src="bower_components/angular-ui-bootstrap/dist/ui-bootstrap-0.12.1.js"></script>
        
	<script src="bower_components/yad3ad-components/services/d3service.js"></script>
      <!--  <script src=bower_components/"yad3ad-components/directives/clock-directive.js"></script>
        <script src="bower_components/yad3ad-components/directives/bar-directive.js"></script> -->
        <script src="bower_components/yad3ad-components/directives/sun-burst-directive.js"></script>


        <script src="bower_components/d3/d3.js"></script>
        
        <script src="bower_components/EventDrops/src/eventDrops.js"></script>
         
        <script type="text/javascript" src="bower_components/d3-tip/index.js"></script>

        <script src="index.js"></script>




  
<!--  -->
<!--  -->
<!--  -->
  <!-- <script type="text/javascript" src="../bower_components/d3/d3.js"></script> -->
  
  <script type="text/javascript">
    data = [{"total":225,"days":[12,51,60,26,38,31,7]},{"total":279,"days":[42,33,34,72,61,12,25]},{"total":212,"days":[12,59,24,70,36,5,6]},{"total":335,"days":[17,43,38,58,67,72,40]},{"total":329,"days":[40,53,62,48,38,36,52]},{"total":234,"days":[15,25,41,66,35,37,15]},{"total":175,"days":[2,40,23,40,23,34,13]},{"total":308,"days":[20,22,63,55,51,66,31]},{"total":401,"days":[20,64,42,62,88,79,46]},{"total":214,"days":[24,27,25,48,38,28,24]},{"total":332,"days":[26,43,20,109,74,29,31]},{"total":333,"days":[65,66,62,60,14,43,23]},{"total":437,"days":[33,74,82,70,85,64,29]},{"total":687,"days":[29,82,87,167,156,126,40]},{"total":243,"days":[11,52,44,50,46,30,10]},{"total":360,"days":[16,41,86,62,83,60,12]},{"total":349,"days":[22,55,48,36,88,57,43]},{"total":368,"days":[29,100,68,54,55,46,16]},{"total":377,"days":[3,71,66,57,93,82,5]},{"total":265,"days":[12,61,61,19,44,46,22]},{"total":396,"days":[20,58,70,52,84,93,19]},{"total":467,"days":[25,47,128,93,70,35,69]},{"total":524,"days":[55,79,94,95,122,70,9]},{"total":535,"days":[21,96,95,115,78,89,41]},{"total":333,"days":[20,50,49,52,58,51,53]},{"total":258,"days":[7,23,50,59,46,50,23]},{"total":242,"days":[12,4,54,53,46,33,40]},{"total":335,"days":[1,34,40,75,97,51,37]},{"total":325,"days":[32,57,65,46,60,58,7]},{"total":224,"days":[23,42,43,28,31,27,30]},{"total":317,"days":[20,46,43,46,83,36,43]},{"total":119,"days":[1,10,9,45,30,17,7]},{"total":368,"days":[13,74,77,85,72,40,7]},{"total":271,"days":[10,50,46,61,68,31,5]},{"total":290,"days":[26,48,39,37,68,43,29]},{"total":393,"days":[27,50,133,47,73,37,26]},{"total":316,"days":[2,63,66,47,63,33,42]},{"total":146,"days":[0,32,38,23,45,7,1]},{"total":255,"days":[23,34,72,46,48,24,8]},{"total":196,"days":[9,32,82,18,16,29,10]},{"total":410,"days":[41,52,67,42,49,103,56]},{"total":280,"days":[13,35,40,60,68,53,11]},{"total":432,"days":[45,65,59,55,71,68,69]},{"total":371,"days":[19,104,95,51,66,20,16]},{"total":285,"days":[2,38,50,72,74,47,2]},{"total":350,"days":[47,16,96,93,32,52,14]},{"total":234,"days":[34,68,66,32,5,10,19]},{"total":279,"days":[27,43,64,48,60,25,12]},{"total":391,"days":[40,54,59,68,80,51,39]},{"total":168,"days":[0,44,42,36,30,16,0]},{"total":0,"days":[0,0,0,0,0,0,0]},{"total":14,"days":[6,0,0,0,0,2,6]},{"total":0,"days":[0,0,0,0,0,0,0]}];
  </script>
  <link rel="stylesheet" type="css" href="examples/example-styles.css">



  <style type="text/css">
  body {
    padding: 40px;
    font-family: "Helvetica Neue", Helvetica, sans-serif;
    font-size: 12px;
    height: 1000px;
  }

  .d3-tip span {
    color: #ff00c7;
  }

  .domain {
    display: none;
  }

  .axis line {
    stroke-width: 1px;
    stroke: #eee;
    shape-rendering: crispedges;
  }

  .axis text {
    fill: #888;
  }

  rect {
    fill: #339cff;
    fill-opacity: 0.7;
  }

  rect:hover {
    fill-opacity: 1;
  }
  </style>

<br>
<br>
<div style="border: 1px solid rgb(200,200,200); margin-left: 40px; margin-right: 40px; margin-top: 40x; margin-bottom: 40 px;">
        <div class="container">
            <div class="row">
                <div class="page-header">
                     <h1>Hacking Time</h1>
                </div>  
                <div id="graph">
                </div>
            </div>
            <burst-direct></burst-direct>

        </div>
</div>


</html>
